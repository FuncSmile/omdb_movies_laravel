import{a as y,r as o,j as e,H as _,L as a}from"./app-WUIF3dKM.js";import{d as p,l as x,r as f}from"./index-DLxiWtzi.js";import{L as M}from"./language-toggle-o-xMFMox.js";import{u as S}from"./useTranslation-CTM0GqOe.js";/* empty css            */function R({canRegister:h=!0}){const{auth:l}=y().props,{t:s}=S(),[c,j]=o.useState(""),[m,g]=o.useState([]),[b,n]=o.useState(!1),[N,u]=o.useState(!1);o.useEffect(()=>{(async()=>{try{n(!0);const r=["avengers","batman","spiderman","harry potter","transformers"],i=r[Math.floor(Math.random()*r.length)],d=await(await fetch(`/search-movie?q=${i}`)).json(),w=d.Search?d.Search.slice(0,10):d.slice(0,10);g(w||[])}catch(r){console.error(r)}finally{n(!1)}})()},[]);const v=async()=>{if(c)try{n(!0);const r=await(await fetch(`/search-movie?q=${c}`)).json(),i=r.Search?r.Search.slice(0,5):r.slice(0,5);g(i||[])}catch(t){console.error(t)}finally{n(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(_,{title:"OMDB Movies"}),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-black text-white",children:[e.jsx("header",{className:"w-full border-b border-white/10 bg-white/5 backdrop-blur-md",children:e.jsxs("div",{className:"mx-auto flex max-w-7xl items-center justify-between px-6 py-4",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["ðŸŽ¬ OMDB",e.jsx("span",{className:"text-red-500",children:"Movies"})]}),e.jsxs("nav",{className:"flex items-center gap-4 text-sm",children:[l.user?e.jsx(a,{href:p(),className:"rounded-lg bg-red-600 px-5 py-2 hover:bg-red-700 transition",children:"Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsx(a,{href:x(),className:"hover:text-red-400 transition",children:"Log in"}),h&&e.jsx(a,{href:f(),className:"rounded-lg bg-red-600 px-5 py-2 hover:bg-red-700 transition",children:"Register"})]}),e.jsx("div",{className:"ml-3",children:e.jsx(M,{})})]})]})}),e.jsxs("section",{className:"py-24 text-center px-6",children:[e.jsx("h2",{className:"text-4xl md:text-6xl font-bold",children:s("hero_title")}),e.jsx("p",{className:"mt-6 text-gray-400",children:s("hero_subtitle")}),e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsx(a,{href:l.user?p():x(),className:"rounded-lg bg-red-600 px-6 py-3 hover:bg-red-700 transition font-semibold",children:l.user?s("cta_go_dashboard"):s("cta_get_started")}),h&&!l.user&&e.jsx(a,{href:f(),className:"rounded-lg border border-white/10 px-6 py-3 hover:bg-white/5 transition text-sm",children:s("cta_create_account")})]})]}),e.jsx("section",{className:"mx-auto max-w-5xl px-6 pb-16",children:e.jsx("div",{className:"rounded-2xl bg-white/5 border border-white/10 p-8",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("input",{value:c,onChange:t=>j(t.target.value),placeholder:s("search_placeholder"),className:"flex-1 rounded-lg bg-black/40 border border-white/10 px-4 py-2 outline-none"}),e.jsx("button",{onClick:v,className:"rounded-lg bg-red-600 px-6 py-2 hover:bg-red-700 transition",children:s("search_button")})]})})}),e.jsxs("section",{className:"mx-auto max-w-7xl px-6 pb-20",children:[e.jsxs("h3",{className:"text-3xl font-bold text-center mb-8",children:["â­ ",s("featured_heading")]}),e.jsx("p",{className:"text-center text-gray-400 max-w-2xl mx-auto mb-8",children:s("featured_description")}),b&&e.jsx("p",{className:"text-center text-gray-400",children:"Loading..."}),!b&&m.length===0&&e.jsx("p",{className:"text-center text-gray-400",children:s("no_movies_found")}),e.jsx("div",{className:"grid gap-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:m.map(t=>e.jsx("div",{className:"relative",children:e.jsxs("div",{onClick:()=>{l.user?window.location.href=`/movies/${t.imdbID}`:u(!0)},className:"cursor-pointer rounded-2xl bg-white/5 border border-white/10 overflow-hidden hover:scale-105 transition",children:[e.jsx("img",{src:t.Poster&&t.Poster!=="N/A"?t.Poster:"/images/no-poster.svg",alt:t.Title,className:"h-64 w-full object-cover",loading:"lazy"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-semibold text-lg truncate",children:t.Title}),e.jsx("p",{className:"text-sm text-gray-400",children:t.Year})]})]})},t.imdbID))})]}),e.jsxs("footer",{className:"border-t border-white/10 py-8 text-center text-sm text-gray-500",children:["Â© ",new Date().getFullYear()," OMDB Movies. Built with Laravel & React."]}),N&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/70 z-50",children:e.jsxs("div",{className:"bg-slate-900 p-8 rounded-2xl w-96 text-center border border-white/10",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:s("modal_not_logged_title")}),e.jsx("p",{className:"text-gray-400 mb-6",children:s("modal_not_logged_message")}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx(a,{href:x(),className:"bg-red-600 px-6 py-2 rounded-lg hover:bg-red-700 transition",children:s("modal_login_button")}),e.jsx("button",{onClick:()=>u(!1),className:"border border-white/20 px-6 py-2 rounded-lg hover:bg-white/10 transition",children:s("modal_close_button")})]})]})})]})]})}export{R as default};
