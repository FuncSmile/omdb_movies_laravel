import{r as o,j as t,H as h}from"./app-WUIF3dKM.js";import{A as x}from"./app-layout-CLKVycNS.js";import{M as u}from"./movieCard-CX7uXoWV.js";import{u as f}from"./useTranslation-CTM0GqOe.js";/* empty css            */import"./createLucideIcon-BbeclwRr.js";import"./index-DmXVuRXr.js";import"./index-CWhwDHid.js";import"./index-DLxiWtzi.js";function F(){const{t:s}=f(),[a,i]=o.useState([]),[c,n]=o.useState(!0),l=async()=>{try{n(!0);const r=await(await fetch("/favorites",{headers:{Accept:"application/json"}})).json();i(r||[])}catch(e){console.error(e)}finally{n(!1)}};o.useEffect(()=>{l()},[]);const d=async e=>{try{const r=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"";await fetch(`/favorites/${e}`,{method:"DELETE",headers:{"X-CSRF-TOKEN":r,Accept:"application/json"}}),i(m=>m.filter(p=>p.id!==e))}catch(r){console.error(r)}};return t.jsxs(x,{children:[t.jsx(h,{title:s("favorites")}),t.jsxs("div",{className:"min-h-screen p-6 text-white",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsx("h1",{className:"text-3xl font-bold",children:s("favorites")})}),c&&t.jsx("p",{className:"text-gray-400",children:s("loading")}),!c&&a.length===0&&t.jsx("p",{className:"text-gray-400",children:s("no_favorites")}),t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4",children:a.map(e=>t.jsxs("div",{className:"relative",children:[t.jsx(u,{movie:{imdbID:e.imdb_id,Title:e.title,Year:e.year,Poster:e.poster||"/images/no-poster.svg",Type:e.type||"movie"},showFavoriteButton:!1}),t.jsx("button",{onClick:()=>d(e.id),className:"absolute top-3 right-3 bg-black/50 text-red-400 px-2 py-1 rounded",children:s("remove")})]},e.id))})]})]})}export{F as default};
