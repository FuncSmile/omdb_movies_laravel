import{r as a,j as s,H as z,F as G}from"./app-WUIF3dKM.js";import{I as N}from"./input-error-D52xXLva.js";import{T as R}from"./text-link-D75dlMxl.js";import{c as K,u as O,a as U,B as X}from"./createLucideIcon-BbeclwRr.js";import{P as Z,u as J,c as B,a as Q}from"./index-DmXVuRXr.js";import{C as Y}from"./check-Q-W_vTpm.js";import{I as F}from"./input-Dp-tJVxQ.js";import{L as w}from"./label-B-oZWAAf.js";import{S as ee}from"./spinner-CF9lkW2R.js";import{A as te}from"./auth-layout-Cb--F8yp.js";import{q as re,r as ne}from"./index-DLxiWtzi.js";import{r as oe}from"./index-xVsU3mG7.js";import{u as se}from"./useTranslation-CTM0GqOe.js";/* empty css            */import"./index-CWhwDHid.js";import"./loader-circle-DnXZcUAB.js";import"./language-toggle-o-xMFMox.js";import"./index-D5zfO-Fh.js";function ie(e,t=[]){let i=[];function r(n,c){const l=a.createContext(c),d=i.length;i=[...i,c];const p=u=>{const{scope:m,children:C,...f}=u,g=m?.[e]?.[d]||l,j=a.useMemo(()=>f,Object.values(f));return s.jsx(g.Provider,{value:j,children:C})};p.displayName=n+"Provider";function h(u,m){const C=m?.[e]?.[d]||l,f=a.useContext(C);if(f)return f;if(c!==void 0)return c;throw new Error(`\`${u}\` must be used within \`${n}\``)}return[p,h]}const o=()=>{const n=i.map(c=>a.createContext(c));return function(l){const d=l?.[e]||n;return a.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return o.scopeName=e,[r,ae(o,...t)]}function ae(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(n){const c=r.reduce((l,{useScope:d,scopeName:p})=>{const u=d(n)[`__scope${p}`];return{...l,...u}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return i.scopeName=t.scopeName,i}function ce(e){const t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function le(e){const t=de(e),i=a.forwardRef((r,o)=>{const{children:n,...c}=r,l=a.Children.toArray(n),d=l.find(pe);if(d){const p=d.props.children,h=l.map(u=>u===d?a.Children.count(p)>1?a.Children.only(null):a.isValidElement(p)?p.props.children:null:u);return s.jsx(t,{...c,ref:o,children:a.isValidElement(p)?a.cloneElement(p,void 0,h):null})}return s.jsx(t,{...c,ref:o,children:n})});return i.displayName=`${e}.Slot`,i}function de(e){const t=a.forwardRef((i,r)=>{const{children:o,...n}=i;if(a.isValidElement(o)){const c=fe(o),l=me(n,o.props);return o.type!==a.Fragment&&(l.ref=r?K(r,c):c),a.cloneElement(o,l)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ue=Symbol("radix.slottable");function pe(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ue}function me(e,t){const i={...t};for(const r in t){const o=e[r],n=t[r];/^on[A-Z]/.test(r)?o&&n?i[r]=(...l)=>{const d=n(...l);return o(...l),d}:o&&(i[r]=o):r==="style"?i[r]={...o,...n}:r==="className"&&(i[r]=[o,n].filter(Boolean).join(" "))}return{...e,...i}}function fe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var xe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],E=xe.reduce((e,t)=>{const i=le(`Primitive.${t}`),r=a.forwardRef((o,n)=>{const{asChild:c,...l}=o,d=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...l,ref:n})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),y="Checkbox",[he]=ie(y),[be,I]=he(y);function Ce(e){const{__scopeCheckbox:t,checked:i,children:r,defaultChecked:o,disabled:n,form:c,name:l,onCheckedChange:d,required:p,value:h="on",internal_do_not_use_render:u}=e,[m,C]=J({prop:i,defaultProp:o??!1,onChange:d,caller:y}),[f,g]=a.useState(null),[j,x]=a.useState(null),b=a.useRef(!1),_=f?!!c||!!f.closest("form"):!0,S={checked:m,disabled:n,setChecked:C,control:f,setControl:g,name:l,form:c,value:h,hasConsumerStoppedPropagationRef:b,required:p,defaultChecked:k(o)?!1:o,isFormControl:_,bubbleInput:j,setBubbleInput:x};return s.jsx(be,{scope:t,...S,children:ve(u)?u(S):r})}var L="CheckboxTrigger",T=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:i,...r},o)=>{const{control:n,value:c,disabled:l,checked:d,required:p,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:C,bubbleInput:f}=I(L,e),g=O(o,h),j=a.useRef(d);return a.useEffect(()=>{const x=n?.form;if(x){const b=()=>u(j.current);return x.addEventListener("reset",b),()=>x.removeEventListener("reset",b)}},[n,u]),s.jsx(E.button,{type:"button",role:"checkbox","aria-checked":k(d)?"mixed":d,"aria-required":p,"data-state":H(d),"data-disabled":l?"":void 0,disabled:l,value:c,...r,ref:g,onKeyDown:B(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:B(i,x=>{u(b=>k(b)?!0:!b),f&&C&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});T.displayName=L;var A=a.forwardRef((e,t)=>{const{__scopeCheckbox:i,name:r,checked:o,defaultChecked:n,required:c,disabled:l,value:d,onCheckedChange:p,form:h,...u}=e;return s.jsx(Ce,{__scopeCheckbox:i,checked:o,defaultChecked:n,disabled:l,required:c,onCheckedChange:p,name:r,form:h,value:d,internal_do_not_use_render:({isFormControl:m})=>s.jsxs(s.Fragment,{children:[s.jsx(T,{...u,ref:t,__scopeCheckbox:i}),m&&s.jsx(D,{__scopeCheckbox:i})]})})});A.displayName=y;var q="CheckboxIndicator",M=a.forwardRef((e,t)=>{const{__scopeCheckbox:i,forceMount:r,...o}=e,n=I(q,i);return s.jsx(Z,{present:r||k(n.checked)||n.checked===!0,children:s.jsx(E.span,{"data-state":H(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});M.displayName=q;var $="CheckboxBubbleInput",D=a.forwardRef(({__scopeCheckbox:e,...t},i)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:n,defaultChecked:c,required:l,disabled:d,name:p,value:h,form:u,bubbleInput:m,setBubbleInput:C}=I($,e),f=O(i,C),g=ce(n),j=Q(r);a.useEffect(()=>{const b=m;if(!b)return;const _=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(_,"checked").set,V=!o.current;if(g!==n&&P){const W=new Event("click",{bubbles:V});b.indeterminate=k(n),P.call(b,k(n)?!1:n),b.dispatchEvent(W)}},[m,g,n,o]);const x=a.useRef(k(n)?!1:n);return s.jsx(E.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??x.current,required:l,disabled:d,name:p,value:h,form:u,...t,tabIndex:-1,ref:f,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});D.displayName=$;function ve(e){return typeof e=="function"}function k(e){return e==="indeterminate"}function H(e){return k(e)?"indeterminate":e?"checked":"unchecked"}function ge({className:e,...t}){return s.jsx(A,{"data-slot":"checkbox",className:U("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(M,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Y,{className:"size-3.5"})})})}const v=e=>({url:v.url(e),method:"post"});v.definition={methods:["post"],url:"/login"};v.url=e=>v.definition.url+re(e);v.post=e=>({url:v.url(e),method:"post"});Object.assign(v,v);function Me({status:e,canResetPassword:t,canRegister:i}){const{t:r}=se();return s.jsxs(te,{title:r("login_title"),description:r("login_description"),children:[s.jsx(z,{title:"Log in"}),s.jsx(G,{...v.form(),resetOnSuccess:["password"],className:"flex flex-col gap-6",children:({processing:o,errors:n})=>s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-6",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(w,{htmlFor:"email",children:r("email_label")}),s.jsx(F,{id:"email",type:"email",name:"email",required:!0,autoFocus:!0,tabIndex:1,autoComplete:"email",placeholder:"email@example.com"}),s.jsx(N,{message:n.email})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(w,{htmlFor:"password",children:r("password_label")}),t&&s.jsx(R,{href:oe(),className:"ml-auto text-sm",tabIndex:5,children:r("forgot_password")})]}),s.jsx(F,{id:"password",type:"password",name:"password",required:!0,tabIndex:2,autoComplete:"current-password",placeholder:r("password_label")}),s.jsx(N,{message:n.password})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ge,{id:"remember",name:"remember",tabIndex:3}),s.jsx(w,{htmlFor:"remember",children:r("remember_me")})]}),s.jsxs(X,{type:"submit",className:"mt-4 w-full",tabIndex:4,disabled:o,"data-test":"login-button",children:[o&&s.jsx(ee,{}),r("login_button")]})]}),i&&s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[r("signup_prompt")," ",s.jsx(R,{href:ne(),tabIndex:5,children:r("create_account_button")})]})]})}),e&&s.jsx("div",{className:"mb-4 text-center text-sm font-medium text-green-600",children:e})]})}export{Me as default};
